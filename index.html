<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <title>WER Competition Score Table</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div id="app">
        <header class="app-header">
            <h1>WER Competition Score Table</h1>
        </header>

        <nav class="tabbar">
            <button class="tab-btn" data-view="home" aria-selected="true">Home</button>
        </nav>

        <main id="views">
            <!-- Home View -->
            <section id="view-home" class="view active">
                <div class="card stack gap">
                    <h2>Start Scoring</h2>
                    <p>Begin a new round.</p>
                    <div class="stack gap">
                        <button id="btn-new-round" class="btn primary">New Scoring Session</button>
                        <button id="btn-go-export" class="btn">Data Export</button>
                    </div>
                </div>
            </section>

            <!-- Scoring Flow Container (4 windows) -->
            <section id="view-scoring" class="view">
                <div class="steps">
                    <div class="step" data-step="1">1. General Info</div>
                    <div class="step" data-step="2">2. Task Selection</div>
                    <div class="step" data-step="3">3. Scoring</div>
                    <div class="step" data-step="4">4. Finalize</div>
                </div>

                <!-- Window 1: General Information -->
                <section id="window-1" class="window active">
                    <form id="form-general" class="stack gap">
                        <div class="field">
                            <label for="roundNumber">Round Number</label>
                            <input id="roundNumber" name="roundNumber" type="number" min="1" required />
                            <small class="hint">Required</small>
                        </div>
                        <div class="field">
                            <label for="venueSeat">Venue Seat Number <span class="muted">(optional)</span></label>
                            <input id="venueSeat" name="venueSeat" type="text" />
                        </div>
                        <div class="field">
                            <label for="teamNumber">Team Number <span class="muted">(optional)</span></label>
                            <input id="teamNumber" name="teamNumber" type="text" />
                        </div>
                        <div class="field">
                            <label for="teamName">Team Name</label>
                            <input id="teamName" name="teamName" type="text" required />
                            <small class="hint">Required</small>
                        </div>
                        <div class="field">
                            <label for="group">Group <span class="muted">(optional)</span></label>
                            <input id="group" name="group" type="text" />
                        </div>
                        <div class="actions">
                            <button type="button" class="btn" data-nav="back" disabled>Back</button>
                            <button type="submit" class="btn primary" data-nav="next">Next</button>
                        </div>
                    </form>
                </section>

                <!-- Window 2: Task Selection -->
                <section id="window-2" class="window">
                    <div class="toolbar">
                        <button id="btn-add-task" class="btn">Add Task</button>
                        <span class="muted" id="task-count">0 / 7 selected</span>
                    </div>
                    <div id="task-list" class="stack gap"></div>
                    <div class="actions">
                        <button class="btn" data-nav="back">Back</button>
                        <button id="btn-task-next" class="btn primary">Next</button>
                    </div>
                </section>

                <!-- Window 3: Scoring -->
                <section id="window-3" class="window">
                    <div class="toolbar wrap">
                        <div class="bonus">
                            <label>Departure Bonus</label>
                            <input id="departureBonus" type="number" value="0" min="0" />
                            <button id="btn-apply-departure" class="btn">Apply</button>
                        </div>
                        <div class="bonus">
                            <label>Restart Bonus</label>
                            <input id="restartBonus" type="number" value="0" min="0" />
                            <div class="restart-controls">
                                <button class="btn" data-restart="-1">-</button>
                                <span id="restartCount">0</span>
                                <button class="btn" data-restart="+1">+</button>
                            </div>
                        </div>
                        <div class="timer">
                            <span id="timerDisplay">00:00</span>
                            <button id="btn-timer" class="btn">Start</button>
                            <button id="btn-reset-timer" class="btn">Reset</button>
                        </div>
                    </div>
                    <div id="scoring-tasks" class="stack gap"></div>
                    <div class="total">
                        <div>Total Score: <strong id="totalScore">0</strong></div>
                        <div>Elapsed Time: <strong id="elapsedTime">0</strong> sec</div>
                    </div>
                    <div class="actions">
                        <button class="btn" data-nav="back">Back</button>
                        <button class="btn primary" data-nav="next">Next</button>
                    </div>
                </section>

                <!-- Window 4: Final Details -->
                <section id="window-4" class="window">
                    <form id="form-final" class="stack gap">
                        <div class="field">
                            <label for="referee">Referee</label>
                            <input id="referee" name="referee" type="text" required />
                        </div>
                        <div class="field">
                            <label for="scorer">Scorer</label>
                            <input id="scorer" name="scorer" type="text" required />
                        </div>
                        <div class="field">
                            <label for="teamMembers">Team Members</label>
                            <textarea id="teamMembers" name="teamMembers" rows="3"></textarea>
                        </div>
                        <div class="field">
                            <label for="remarks">Remarks</label>
                            <textarea id="remarks" name="remarks" rows="3"></textarea>
                        </div>
                        <div class="actions">
                            <button class="btn" data-nav="back" type="button">Back</button>
                            <button class="btn primary" id="btn-save-round" type="button">Save Round</button>
                        </div>
                    </form>
                </section>
            </section>

            <!-- Data Export View -->
            <section id="view-export" class="view">
                <div class="card stack gap">
                    <h2>Data Export</h2>
                    <div class="filters grid-2 gap">
                        <input id="filterTeam" type="text" placeholder="Filter by Team Name" />
                        <input id="filterRound" type="number" min="1" placeholder="Filter by Round" />
                    </div>
                    <div class="filters grid-2 gap">
                        <input id="filterDateDay" type="date" />
                    </div>
                    <div class="stack gap">
                        <button id="btn-export-csv" class="btn">Export CSV</button>
                        <button id="btn-clear-data" class="btn danger">Clear All Saved Rounds</button>
                    </div>
                    <div id="export-table" class="table"></div>
                </div>
            </section>
        </main>

        <!-- Modals -->
        <div id="modal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="modal-title">
            <div class="modal-content">
                <h3 id="modal-title">Confirm</h3>
                <div id="modal-body"></div>
                <div class="actions">
                    <button id="modal-cancel" class="btn">Cancel</button>
                    <button id="modal-print" class="btn" style="display:none">Print PDF</button>
                    <button id="modal-confirm" class="btn primary">Confirm</button>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
    <noscript>You need JavaScript enabled to use this app.</noscript>
</body>
<script>
// Prevent iOS zoom on input focus
if (document.documentElement) {
    document.documentElement.addEventListener('touchstart', function() {}, {passive: true});
}
</script>
</html>


